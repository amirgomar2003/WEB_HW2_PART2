# مستند پیاده‌سازی backend پروژه Shape Painter

این پروژه با هدف ساخت یک سرور برای اپلیکیشن `Shape Painter` که در بخش قبلی تمرین دوم پیاده‌سازی شده انجام گرفت. با این سرور قابلیت هایی مانند login و ذخیره و بازیابی نشست کاربر به اپلیکیشنی که با `React JS` طراحی کردیم اضافه شد.

---

## مرحله اول: طراحی مدل ها

اول از هرچیزی باید با توجه به Bussiness Logic برنامه باید مدل های مناسبی طراحی میکردیم که بتونن نیاز هامون رو به درستی براورده کنن.
قابلیت هایی که باید توی این بخش به اپلیکیشن نوشته شده‌ توی `React JS` اضافه کنیم متشکل هست از قابلیت login و ذخیره و بازیابی (حداکثر یک) نشست برای کاربران. پس ما به دو موجودیت نشست و کاربر احتیاج خواهیم داشت.


- یه **UserEntity** که شامل username و password و id (برای تعریف کردن روابط) کاربر خواهد بود.
- یه **UserSessionEntity** که شامل تمام اطلاعات برای بازیابی یک نشست خواهد بود. شامل تمام اطلاعاتی که در خروجی تابع `Export` فاز قبل داشتیم +‌ اطلاعات کاربر صاحب نشست.
- 
حالا مدل های مورد نظر رو داشتم و بعد از طراحی `Repository` اونها آماده‌ی استفاده از اونها بودم.
---

## مرحله دوم: نوشتن یک سرویس Authentication با استفاده از `Spring Security`.

حالا باید یک سرویس احراز هویت طراحی میکردم که بشه باهاش تشخیص داد کاربری که درحال طراحی هست چه کسیه، تا هم بشه براش نشست قبلی رو با هر بار login موفق بازیابی کرد، و هم بشه نشست‌هاش رو مطابق میلش ذخیره سازی کرد.
طراحی سیستم احراز هویت و توسعه‌ی `Bean` هایی مثل ‍‍`SecurityFilterChain` و حتی `UserDetailService` با استفاده از مثال‌هایی که خود استاد سر کلاس باهاشون تدریس میکردن و حتی یکسری از اونها داخل `CW` هم قرار داده‌ شدن خیلی سریع انجام شد.
---

---

## جمع‌بندی

با انجام همه‌ی کارهای بالا، خروجی یه اپ ReactJS با رابط کاربری ساده‌ست که توی اون می‌تونم title مشخص کنم، اشکال جدید به صفحه نقاشی اضافه کنم و اون‌ها رو در صورت نیاز جابجا کنم. و برای اینکه بشه یک نشست رو ذخیره یا دوباره بارگذاری کرد، می‌شه از هر صفحه خروجی JSON گرفت یا یه صفحه جدید رو از روی فایل JSON ساخت.

هوش مصنوعی تو بعضی از قسمت‌های tricky پروژه کمکم کرد تا سریع‌تر و دقیق‌تر جلو برم، ولی در نهایت مهمه که خودم هم کدها رو خوب بفهمم تا بتونم بعداً گسترشش بدم یا اشکال‌یابی کنم.
